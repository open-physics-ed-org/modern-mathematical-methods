# Course Content YAML Structure Guide

## Purpose
This YAML structure is designed to provide a strict, extensible, and future-proof way to define the navigation and content organization for a course site generator. It ensures clarity, accessibility, and automation for both simple and complex course sites.

## Top-Level Structure
- The YAML root is a list of menu items, each with `title` and `menu: true`.
- Only top-level items with `menu: true` appear in the site navigation menu.
- All other navigation (groups, subgroups, pages) is auto-generated on the relevant group or section pages.

## Node Types and Properties
- **Menu Item**: Top-level, must have `title`, `menu: true`, and either a `file` (single page) or `children` (group/subpages).
- **Group/Subgroup**: Must have `title`, and either a `file`, `children`, or both.
  - If `file` is present, it is used as the group landing page.
  - If `children` is present, subpages are auto-listed on the group page.
  - Optional: `autogen` (true/false) to force auto-generation of the group page, ignoring `file`.
  - Optional: `append_children` (true/false) to append an autogenerated list of children to the static file content.
- **Page (Leaf Node)**: Must have `title` and `file`. Cannot have `children`.

## Constraints
- All nodes must have a `title`.
- Only top-level nodes with `menu: true` appear in the menu.
- Groups/subgroups can have both a `file` and `children`.
  - If both are present, the file is used as the group page, and children are listed if `append_children: true` (default: false).
  - If only `children` is present, the group page is auto-generated as an index.
  - If only `file` is present, the group page is static.
  - If `autogen: true`, the group page is always auto-generated, ignoring `file`.
- Leaf nodes (no `children`) must have a `file`.
- Maximum depth: menu > group > subgroup > page.
- The order of items is determined by their order in the YAML.

## Why This Structure?
- **Strictness**: Prevents ambiguous or invalid navigation/content definitions.
- **Extensibility**: New menu items, groups, or pages can be added without changing the build logic.
- **Accessibility**: Only top-level menu items appear in the menu, simplifying navigation and improving accessibility.
- **Automation**: Group and section pages can be auto-generated, reducing manual work and ensuring consistency.
- **Flexibility**: Allows for both static and auto-generated group pages, and for appending autogenerated lists to static content.
- **Validation**: The schema can be validated to catch errors early (e.g., missing files, invalid structure).

## Example
```yaml
toc:
  - title: "Home"
    menu: true
    file: content/index.md

  - title: "Chapters"
    menu: true
    file: content/chapters.md
    children:
      - title: "Mechanics"
        file: content/1_mechanics/overview.md
        children:
          - title: "Activity: What is a Model?"
            file: content/notebooks/1_mechanics/modeling/activity-what_is_a_model.ipynb
      # ...
  # ...
```

## Best Practices
- Always provide a `title` for every node.
- Use `menu: true` only for top-level navigation items.
- Use `file` for static pages, and `children` for groups/sections.
- Use `autogen` and `append_children` to control group page rendering as needed.
- Keep the structure shallow (max 4 levels) for clarity and maintainability.

---
This guide should be referenced whenever editing or extending the course content YAML manifest.
